/*
 * MOTOR.c
 *
 * Created: 12/20/2020 1:06:29 AM
 *  Author: mostafa gomaa
 */ 

#include "MOTOR.h"

void MOTOR_INIT(void)
{
	DIO_SETPINDIR(DIO_PORTC , DIO_PIN2 , DIO_PIN_OUTPUT);
	
	DIO_SETPINDIR(DIO_PORTC , DIO_PIN3 , DIO_PIN_OUTPUT);
}

void TURN_CLOCK_DIR(void)
{
	DIO_SETPINVAL(DIO_PORTC , DIO_PIN2 , DIO_PIN_HIGH);
	
	DIO_SETPINVAL(DIO_PORTC , DIO_PIN3 , DIO_PIN_LOW);

}

void TURN_ANTI_CLOCK_DIR(void)
{
	DIO_SETPINVAL(DIO_PORTC , DIO_PIN2 , DIO_PIN_LOW);
	
	DIO_SETPINVAL(DIO_PORTC , DIO_PIN3 , DIO_PIN_HIGH);
}

void TURN_OFF_MOTOR(void)
{
	DIO_SETPINVAL(DIO_PORTC , DIO_PIN2 , DIO_PIN_LOW);
	
	DIO_SETPINVAL(DIO_PORTC , DIO_PIN3 , DIO_PIN_LOW);
}

void APPLY_LOW_SPEED(void)
{
	
	TURN_CLOCK_DIR();
	
	TMR0_INIT();
	
	TMR0_PWM_START();
	
	TMR0_PWM_DUTYCYCLE(25);
}

void APPLY_MIDIUM_SPEED(void)
{
	
	TURN_CLOCK_DIR();
	
	TMR0_INIT();
	
	TMR0_PWM_START();
	
	TMR0_PWM_DUTYCYCLE(50);
}

void APPLY_HIGH_SPEED(void)
{
	
	TURN_CLOCK_DIR();
	
	TMR0_INIT();
	
	TMR0_PWM_START();
	
	TMR0_PWM_DUTYCYCLE(100);
}